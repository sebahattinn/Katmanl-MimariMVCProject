@model IEnumerable<OnlineGallery.Models.User>

<h2>@ViewData["Title"]</h2>

<!-- TempData'dan gelen mesajı gösterme -->
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}

<!-- Kullanıcı listesi PartialView'ı -->
<div id="user-list-container">
    @Html.Partial("UserList", Model)
</div>

<!-- Butonlar -->
<div class="mt-3">
    <button id="add-user" class="btn btn-success">Kullanıcı Ekle</button>
    <button id="delete-user" class="btn btn-danger">Kullanıcı Sil</button>
    <button id="edit-user" class="btn btn-warning">Kullanıcı Düzenle</button>
    <button id="load-user-list" class="btn btn-primary">Kullanıcıları Listele</button>
</div>

<!-- Kullanıcı listesi yenileme butonu -->
<button id="refresh-user-list" class="btn btn-primary mt-3">Kullanıcıları Yenile</button>

<script>
    // Kullanıcı listesi yenileme işlemi
    document.getElementById('refresh-user-list').addEventListener('click', function () {
        fetch('@Url.Action("GetUserList", "Admin")')
            .then(response => response.text())
            .then(data => {
                document.getElementById('user-list-container').innerHTML = data;
            });
    });

        // Kullanıcıları listeleme butonu
        document.getElementById('load-user-list').addEventListener('click', function () {
            fetch('@Url.Action("GetUserList", "Admin")')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('user-list-container').innerHTML = data;
                });
        });

        // Kullanıcı ekleme butonu
        document.getElementById('add-user').addEventListener('click', function () {
            alert('Kullanıcı Ekleme işlemi başlatılacaktır.');
        });

        // Kullanıcı silme butonu
        document.getElementById('delete-user').addEventListener('click', function () {
            alert('Kullanıcı silme işlemi başlatılacak!');
        });

        // Kullanıcı düzenleme butonu
        document.getElementById('edit-user').addEventListener('click', function () {
            alert('Kullanıcı düzenleme işlemi başlatılacak!');
        });
</script>
